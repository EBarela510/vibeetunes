<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VibeeTunes üéµ Add Playlist</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üéµ VibeeTunes: Add Playlist</h1>
        <div id="message"></div>

        <input type="text" id="newMood" placeholder="Mood">
        <input type="text" id="newSongs" placeholder="Songs (comma separated)">
        <button onclick="createPlaylist()">Add Playlist</button>

        <br><br>
        <a href="list.html">‚û°Ô∏è View All Playlists</a>
    </div>

    <script>
        async function createPlaylist() {
            const mood = document.getElementById('newMood').value.trim();
            const songsInput = document.getElementById('newSongs').value.trim();
            const songs = songsInput.split(',').map(s => s.trim());
            if (!mood || !songsInput) return alert('Please enter mood and songs.');

            try {
                const res = await fetch('/api/playlists', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ mood, songs })
                });
                if (!res.ok) throw new Error('Failed to create playlist');
                alert('‚úÖ Playlist added!');
                document.getElementById('newMood').value = '';
                document.getElementById('newSongs').value = '';
            } catch (err) {
                alert('‚ùå Error creating playlist');
            }
        }
    </script>
</body>
</html>