<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vibeetunes Playlist</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>ðŸŽµ Vibeetunes Playlist ðŸŽ¶</h1>

    <input type="text" id="moodInput" placeholder="Mood (e.g., Happy)">
    <input type="text" id="songsInput" placeholder="Songs (comma-separated)">
    <button onclick="addPlaylist()">Add Playlist</button>

    <h2>Playlists:</h2>
    <ul id="playlistList"></ul>

    <script>
        async function fetchPlaylists() {
            const res = await fetch('/api/playlists');
            const playlists = await res.json();
            const list = document.getElementById('playlistList');
            list.innerHTML = '';
            playlists.forEach(p => {
                const li = document.createElement('li');
                li.textContent = `${p.mood}: ${p.songs.join(', ')}`;
                list.appendChild(li);
            });
        }

        async function addPlaylist() {
            const mood = document.getElementById('moodInput').value;
            const songs = document.getElementById('songsInput').value.split(',').map(s => s.trim());
            await fetch('/api/playlists', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ mood, songs })
            });
            fetchPlaylists();
        }

        window.onload = fetchPlaylists;
    </script>
</body>
</html>