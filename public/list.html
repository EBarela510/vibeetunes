<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VibeeTunes 🎵 All Playlists</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>🎵 VibeeTunes: All Playlists</h1>
        <ul id="playlistList"></ul>
        <br>
        <a href="index.html">⬅️ Back to Add Playlist</a>
    </div>

    <script>
        async function fetchAllPlaylists() {
            const moods = ['happy', 'sad', 'calm', 'angry', 'motivated', 'romantic'];
            const listEl = document.getElementById('playlistList');
            listEl.innerHTML = '';

            for (const mood of moods) {
                try {
                    const res = await fetch(`/api/playlists/${mood}`);
                    if (!res.ok) continue; // skip moods with no playlists
                    const playlists = await res.json();

                    playlists.forEach(p => {
                        const li = document.createElement('li');
                        li.textContent = `${p.mood.toUpperCase()}: ${p.songs.join(', ')}`;
                        listEl.appendChild(li);
                    });
                } catch (err) {
                    console.error(`Error fetching ${mood}`, err);
                }
            }
        }

        fetchAllPlaylists();
    </script>
</body>
</html>